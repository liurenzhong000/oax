webpackJsonp([21],{COmT:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("vLgD");var i=n("6lZ+"),o={data:function(){return{coindialogForm:!1,source:1,currentId:"",listloading:!1,tableData:[],coinData:[],type:["",this.generateFinance("normalpack"),this.generateFinance("lucypack")],coninForm:{type:"1"},coinLoading:!1}},methods:{generateFinance:n("ivlf").f,addBag:function(){this.source=1,this.coindialogForm=!0},upload:function(e){var t,n=this;this.source=2,this.currentId=e,(t=e,Object(a.a)({url:"/redPacketLimit/"+t,method:"get"})).then(function(e){n.coninForm={type:e.data.type+"",limitCoinQty:e.data.limitCoinQty,limitPacketQty:e.data.limitPacketQty,coinId:e.data.coinId},n.coindialogForm=!0})},deleteBag:function(e){var t=this;(function(e){return Object(a.a)({url:"/redPacketLimit/"+e,method:"delete"})})(e).then(function(e){t.handleList()})},coinsave:function(e){var t,n=this;1===e?(t=this.coninForm,Object(a.a)({url:"redPacketLimit",method:"post",data:t})).then(function(e){"0"!==e.code&&(n.coindialogForm=!1,n.coninForm={type:"1"},n.$message.success(e.msg),n.handleList())}):(this.coninForm.id=this.currentId,function(e){return Object(a.a)({url:"redPacketLimit",method:"put",data:e})}(this.coninForm).then(function(e){"0"!==e.code&&(n.coindialogForm=!1,n.$message.success(e.msg,"success"),n.coninForm={type:"1"},n.handleList())}))},cancel:function(){this.coindialogForm=!1,this.coninForm={type:"1"}},handleList:function(){var e=this;this.listloading=!0,Object(a.a)({url:"redPacketLimit",method:"get"}).then(function(t){e.listloading=!1,e.tableData=t.data})},getCoin:function(){var e=this;Object(a.a)({url:"coins/marketCoins",method:"get"}).then(function(t){e.coinData=t.data})}},mounted:function(){this.handleList(),this.getCoin()},components:{QuitConfirm:i.a}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page"},[n("section",{staticClass:"list-table-container"},[n("section",{staticClass:"btn-container-area clearfix"},[n("el-button",{attrs:{type:"success"},on:{click:e.addBag}},[e._v(e._s(e.generateFinance("newadd")))])],1),e._v(" "),n("section",{directives:[{name:"loading",rawName:"v-loading",value:e.listloading,expression:"listloading"}],staticClass:"table-container-area"},[n("el-table",{staticClass:"table",attrs:{data:e.tableData}},[n("el-table-column",{attrs:{width:"55"}}),e._v(" "),n("el-table-column",{attrs:{label:e.generateFinance("coinName")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",[n("span",[e._v(e._s(t.row.coinName))])])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.generateFinance("redType")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",[n("span",[e._v(e._s(e.type[t.row.type]))])])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.generateFinance("totalpack")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",[n("span",[e._v(e._s(t.row.limitPacketQty))])])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.generateFinance("cointotal")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("p",[n("span",[e._v(e._s(t.row.limitCoinQty))])])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:e.generateFinance("control")},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"primary"},on:{click:function(n){e.upload(t.row.id)}}},[e._v(e._s(e.generateFinance("editupdate")))]),e._v(" "),n("quit-confirm",{attrs:{message:e.generateFinance("editupdate"),type:"danger"},on:{handle:function(n){e.deleteBag(t.row.id)}}},[e._v(e._s(e.generateFinance("del")))])]}}])})],1)],1)]),e._v(" "),n("el-dialog",{staticClass:"center-dialog small-dialog",attrs:{title:e.generateFinance("coinpz"),visible:e.coindialogForm},on:{"update:visible":function(t){e.coindialogForm=t}}},[n("section",{staticClass:"filter-container clearfix"},[n("el-form",{ref:"coninForm",attrs:{model:e.coninForm,"label-width":"90px"}},[1===e.source?n("el-form-item",{attrs:{prop:"type",label:e.generateFinance("selectCoins"),"label-width":"200"}},[n("el-select",{attrs:{filterable:""},model:{value:e.coninForm.coinId,callback:function(t){e.$set(e.coninForm,"coinId",t)},expression:"coninForm.coinId"}},e._l(e.coinData,function(e,t){return n("el-option",{key:t,attrs:{label:e.coinName,value:e.coinId}})}))],1):e._e(),e._v(" "),1===e.source?n("el-form-item",{attrs:{prop:"name",label:e.generateFinance("packType")}},[n("el-radio",{attrs:{label:"1"},model:{value:e.coninForm.type,callback:function(t){e.$set(e.coninForm,"type",t)},expression:"coninForm.type"}},[e._v(e._s(e.generateFinance("normalpack")))]),e._v(" "),n("el-radio",{attrs:{label:"2"},model:{value:e.coninForm.type,callback:function(t){e.$set(e.coninForm,"type",t)},expression:"coninForm.type"}},[e._v(e._s(e.generateFinance("lucypack")))])],1):e._e(),e._v(" "),n("el-form-item",{attrs:{prop:"name",label:e.generateFinance("packNum")}},[n("el-input",{attrs:{"auto-complete":"off",placeholder:e.generateFinance("pleaseTotal"),clearable:""},model:{value:e.coninForm.limitPacketQty,callback:function(t){e.$set(e.coninForm,"limitPacketQty",t)},expression:"coninForm.limitPacketQty"}})],1),e._v(" "),n("el-form-item",{attrs:{prop:"name",label:2==e.coninForm.type?e.generateFinance("packTotal"):e.generateFinance("sigeCoin")}},[n("el-input",{attrs:{"auto-complete":"off",placeholder:2==e.coninForm.type?e.generateFinance("pleaseTotal")+":":e.generateFinance("pleaseTotal")+e.generateFinance("pselect")+":",clearable:""},model:{value:e.coninForm.limitCoinQty,callback:function(t){e.$set(e.coninForm,"limitCoinQty",t)},expression:"coninForm.limitCoinQty"}})],1)],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",loading:e.coinLoading},nativeOn:{click:function(t){t.preventDefault(),e.coinsave(e.source)}}},[e._v(e._s(e.generateFinance("confirm")))]),e._v(" "),n("el-button",{on:{click:function(t){e.cancel()}}},[e._v(e._s(e.generateFinance("cc")))])],1)])],1)},staticRenderFns:[]};var l=n("/Xao")(o,c,!1,function(e){n("sEyH")},"data-v-d522a4f0",null);t.default=l.exports},D6GR:function(e,t,n){(e.exports=n("BkJT")(!1)).push([e.i,"",""])},sEyH:function(e,t,n){var a=n("D6GR");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("8bSs")("9ce1eabe",a,!0)}});