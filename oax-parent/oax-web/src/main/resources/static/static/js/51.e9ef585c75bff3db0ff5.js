webpackJsonp([51],{"9nuD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("6iV/"),i=n.n(a),o=n("Ul/C"),r={data:function(){return{loading:!1,fullscreenLoading:!1,tableData:[],classA:!0,centerDialogVisible:!0,total:0,pages:{pageSize:10,pageNum:1},formLabelWidth:"130px",dialogEditor:!1,editform:{cnyPrice:"",minQty:"",maxQty:"",remainQty:""},editId:""}},props:["recordsDatas"],computed:{editforms:function(){return{cnyPrice:this.editform.cnyPrice,minQty:this.editform.minQty,maxQty:this.editform.maxQty,remainQty:this.editform.remainQty}}},components:{},mounted:function(){this.initRecords(),this.centerDialogVisible=this.recordsDatas},methods:{handleEditor:function(e){this.dialogEditor=!0,this.editform.cnyPrice=e.cnyPrice,this.editform.minQty=e.minQty,this.editform.maxQty=e.maxQty,this.editform.remainQty=e.remainQty,this.editId=e.id},submitEdit:function(){var e=this,t=this.editId,n=this.editforms;this.loading=!0,o.l(t,n).then(function(t){t.success?(e.dialogEditor=!1,e.loading=!1,e.initRecords(),e.$message.success(t.msg)):(e.loading=!1,e.dialogEditor=!0,e.$message.error(t.msg))}).catch(function(e){})},statusColor1:function(e){switch(e){case"买入":return"classC";case"卖出":return"classD"}},add0:function(e){return e<10?"0"+e:e},format:function(e){var t=new Date(e),n=t.getFullYear(),a=t.getMonth()+1,i=t.getDate(),o=t.getHours(),r=t.getMinutes(),c=t.getSeconds();return n+"-"+this.add0(a)+"-"+this.add0(i)+" "+this.add0(o)+":"+this.add0(r)+":"+this.add0(c)},handleSizeChange:function(e){this.pages.pageSize=e,this.initRecords()},handleCurrentChange:function(e){this.pages.pageNum=e,this.initRecords()},initRecords:function(){var e=this;this.fullscreenLoading=!0;var t=this.pages;o.v(t).then(function(t){e.tableData=t.data.list,e.total=t.data.total,e.fullscreenLoading=!1}).catch(function(e){})},filterType:function(e){switch(e){case"BUY":return"买入";case"SALE":return"卖出"}},filterStatus:function(e){switch(e){case"SOLDOUT":return"已下架";case"PUTAWAY":return"发布中"}},statusColor:function(e){switch(e){case"SOLDOUT":return"classA";case"PUTAWAY":return"classB"}},filtertControl:function(e){switch(e){case"SOLDOUT":return"发布广告";case"PUTAWAY":return"下架广告"}},filterHandler:function(e,t,n){return t[n.property]===e},handleControl:function(e,t){var n=this;this.$confirm("您确定"+t+"吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",center:!0}).then(function(){n.openControl(e)}).catch(function(){n.$message({type:"info",message:"已取消"+t})})},openControl:function(e){var t=this,n={status:"PUTAWAY"==e.status?"SOLDOUT":"PUTAWAY"};this.fullscreenLoading=!0,n=i.a.stringify(n),o.j(e.id,n).then(function(e){e.success?(t.$message.success(e.msg),t.initRecords(),t.fullscreenLoading=!1):(t.$message.error(e.msg),t.fullscreenLoading=!1)}).catch(function(e){})},closeRecords:function(e){this.$emit("recordsEvents",!1)}}},c={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.fullscreenLoading,expression:"fullscreenLoading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"records"},[n("el-dialog",{attrs:{title:"发布记录",visible:e.centerDialogVisible,width:"1200px"},on:{"update:visible":function(t){e.centerDialogVisible=t},close:e.closeRecords}},[n("el-table",{staticStyle:{width:"100%",border:"1px solid #55555536","border-radius":"6px"},attrs:{data:e.tableData,"header-cell-style":{background:"#cccccc5e"}}},[n("el-table-column",{attrs:{prop:"createDate",label:"时间",align:"center",width:"180"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.format(t.row.createDate)))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"typeDesc",label:"类别",align:"center",filters:[{text:"买入",value:"买入"},{text:"卖出",value:"卖出"}],"filter-method":e.filterHandler},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{class:e.statusColor1(t.row.typeDesc)},[e._v(e._s(t.row.typeDesc))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"cnyPrice",label:"单价(￥)",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{label:"限额",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(t.row.minQty)+"-"+e._s(t.row.maxQty))]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"remainQty",label:"剩余可交易数量",align:"center"}}),e._v(" "),n("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{class:e.statusColor(t.row.status)},[e._v(e._s(e.filterStatus(t.row.status)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.handleControl(t.row,e.filtertControl(t.row.status))}}},[e._v(e._s(e.filtertControl(t.row.status)))])]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"编辑",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){e.handleEditor(t.row)}}},[e._v("编辑")])]}}])})],1),e._v(" "),e.tableData.length>0?n("div",{staticClass:"block"},[n("el-pagination",{attrs:{"current-page":e.pages.pageNum,"page-sizes":[10,20,50,100],"page-size":e.pages.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1):e._e()],1),e._v(" "),n("el-dialog",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"edit",attrs:{title:"商户广告编辑",visible:e.dialogEditor,width:"30%"},on:{"update:visible":function(t){e.dialogEditor=t}}},[n("el-form",{attrs:{model:e.editform}},[n("el-form-item",{attrs:{label:"单价","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editform.cnyPrice,callback:function(t){e.$set(e.editform,"cnyPrice",t)},expression:"editform.cnyPrice"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"剩余可交易数量","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editform.remainQty,callback:function(t){e.$set(e.editform,"remainQty",t)},expression:"editform.remainQty"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"最小数量","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editform.minQty,callback:function(t){e.$set(e.editform,"minQty",t)},expression:"editform.minQty"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"最大数量","label-width":e.formLabelWidth}},[n("el-input",{attrs:{"auto-complete":"off"},model:{value:e.editform.maxQty,callback:function(t){e.$set(e.editform,"maxQty",t)},expression:"editform.maxQty"}})],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.dialogEditor=!1}}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.submitEdit}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var l=n("/Xao")(r,c,!1,function(e){n("j3Zs")},"data-v-4acae6c0",null);t.default=l.exports},G3O9:function(e,t,n){(e.exports=n("BkJT")(!1)).push([e.i,'\n.clearfix[data-v-4acae6c0]:after {\n  content: ".";\n  display: block;\n  height: 0;\n  clear: both;\n  visibility: hidden;\n}\n.clearfix[data-v-4acae6c0] {\n  overflow: hidden;\n  _zoom: 1;\n}\n.fl[data-v-4acae6c0] {\n  float: left;\n}\n.fr[data-v-4acae6c0] {\n  float: right;\n}\n.classC[data-v-4acae6c0] {\n  color: #5db96b;\n}\n.classD[data-v-4acae6c0] {\n  color: #dc6d65;\n}\n.classA[data-v-4acae6c0] {\n  color: #969799;\n}\n.classB[data-v-4acae6c0] {\n  color: #e0281b;\n}\n.class-a[data-v-4acae6c0] {\n  background-color: #de6d7e;\n  color: #fff;\n}\n.records .block[data-v-4acae6c0] {\n  margin-top: 20px;\n}\n.records[data-v-4acae6c0] .el-button--text:hover {\n  color: #fa974b;\n}\n.records[data-v-4acae6c0] .el-dialog--center {\n  text-align: left;\n}\n.records[data-v-4acae6c0] .el-dialog__title {\n  border-left: 3px solid #ffb933;\n  text-align: left;\n  color: #333;\n  line-height: 18px;\n  padding-left: 10px;\n}\n.records[data-v-4acae6c0] .el-button--primary {\n  color: #333;\n  background-color: #ffb933;\n  border-color: #ffb933;\n}\n.records[data-v-4acae6c0] .el-dialog__footer {\n  text-align: center;\n}\n.records[data-v-4acae6c0] .el-dialog__footer .release {\n    padding: 10px 40px;\n}\n.records .tab[data-v-4acae6c0] {\n  text-align: center;\n}\n.records .tab .btn1[data-v-4acae6c0]:hover,\n  .records .tab .btn2[data-v-4acae6c0]:hover {\n    border: solid 1px #5db96b;\n    background-color: #ffffff;\n    color: #5db96b;\n}\n.records .con[data-v-4acae6c0] {\n  padding: 0 15px;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.records .con h3[data-v-4acae6c0] {\n    font-size: 14px;\n    font-weight: normal;\n    font-stretch: normal;\n    letter-spacing: 0px;\n    color: #333333;\n}\n.records .con h3 span[data-v-4acae6c0] {\n      color: #ffb933;\n      padding: 0 5px;\n}\n.records .con .div1[data-v-4acae6c0] {\n    width: 500px;\n    margin-top: 30px;\n}\n.records .con .div1 > span[data-v-4acae6c0] {\n      line-height: 36px;\n      display: inline-block;\n      width: 80px;\n      text-align: center;\n}\n.records .con .div1[data-v-4acae6c0] .el-input__inner {\n      height: 36px;\n      line-height: 36px;\n      border: 1px solid #dcdfe6;\n      padding: 0 10px;\n}\n.records .con .div1[data-v-4acae6c0] .el-input-group {\n      width: 320px;\n}\n.records .con .div2[data-v-4acae6c0] {\n    width: 500px;\n    margin-top: 25px;\n}\n.records .con .div2 > span[data-v-4acae6c0] {\n      line-height: 36px;\n      display: inline-block;\n      width: 80px;\n      text-align: center;\n}\n.records .con .div2[data-v-4acae6c0] .el-input__inner {\n      height: 36px;\n      line-height: 36px;\n      border: 1px solid #dcdfe6;\n      padding: 0 10px;\n}\n.records .con .div2[data-v-4acae6c0] .el-input-group__append span {\n      padding: 0 3px;\n}\n.records .con .div2[data-v-4acae6c0] .el-input-group {\n      width: 320px;\n}\n.records .con .div2[data-v-4acae6c0] .el-input-group__append span:nth-child(3) {\n      cursor: pointer;\n}\n.records .con .div3[data-v-4acae6c0] {\n    width: 800px;\n    margin-top: 30px;\n}\n.records .con .div3 > span[data-v-4acae6c0] {\n      line-height: 36px;\n      display: block;\n      width: 80px;\n      text-align: center;\n}\n.records .con .div3 > i[data-v-4acae6c0] {\n      font-size: 32px;\n      padding: 0 20px;\n      line-height: 36px;\n      color: #ffb933;\n}\n.records .con .div3[data-v-4acae6c0] .el-input__inner {\n      height: 36px;\n      line-height: 36px;\n      border: 1px solid #dcdfe6;\n      padding: 0 10px;\n}\n.records .con .div3[data-v-4acae6c0] .el-input-group {\n      width: 320px;\n}\n.records .con .div4[data-v-4acae6c0] {\n    width: 800px;\n    margin-top: 30px;\n}\n.records .con .div4 > i[data-v-4acae6c0] {\n      font-size: 32px;\n      padding: 0 20px;\n      line-height: 36px;\n      color: #ffb933;\n}\n.records .con .div4 .input4[data-v-4acae6c0] {\n      margin-left: 80px;\n}\n.records .con .div4[data-v-4acae6c0] .el-input__inner {\n      height: 36px;\n      line-height: 36px;\n      border: 1px solid #dcdfe6;\n      padding: 0 10px;\n}\n.records .con .div4[data-v-4acae6c0] .el-input-group {\n      width: 320px;\n}\n.records .edit[data-v-4acae6c0] input.el-input__inner {\n  height: 36px;\n  border: 1px solid #dcdfe6;\n  padding: 0 15px;\n  background-color: #fff;\n}\n',""])},j3Zs:function(e,t,n){var a=n("G3O9");"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);n("8bSs")("009eb6c7",a,!0)}});